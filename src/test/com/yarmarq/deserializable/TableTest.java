package com.yarmarq.deserializable;

import org.junit.jupiter.api.Test;

import java.io.IOException;

import static org.junit.jupiter.api.Assertions.*;

class TableTest {

    @Test
    void deserializeOne() {
        try {
            Table.deserializeOne("[{\"table\":\"A\",\"no\":\"248/A/NBP/2017\",\"effectiveDate\":\"2017-12-22\",\"rates\":[{\"currency\":\"bat (Tajlandia)\",\"code\":\"THB\",\"mid\":0.1081},{\"currency\":\"dolar amerykański\",\"code\":\"USD\",\"mid\":3.5393},{\"currency\":\"dolar australijski\",\"code\":\"AUD\",\"mid\":2.7295},{\"currency\":\"dolar Hongkongu\",\"code\":\"HKD\",\"mid\":0.4526},{\"currency\":\"dolar kanadyjski\",\"code\":\"CAD\",\"mid\":2.7828},{\"currency\":\"dolar nowozelandzki\",\"code\":\"NZD\",\"mid\":2.4826},{\"currency\":\"dolar singapurski\",\"code\":\"SGD\",\"mid\":2.6320},{\"currency\":\"euro\",\"code\":\"EUR\",\"mid\":4.1935},{\"currency\":\"forint (Węgry)\",\"code\":\"HUF\",\"mid\":0.013446},{\"currency\":\"frank szwajcarski\",\"code\":\"CHF\",\"mid\":3.5764},{\"currency\":\"funt szterling\",\"code\":\"GBP\",\"mid\":4.7387},{\"currency\":\"hrywna (Ukraina)\",\"code\":\"UAH\",\"mid\":0.1267},{\"currency\":\"jen (Japonia)\",\"code\":\"JPY\",\"mid\":0.031221},{\"currency\":\"korona czeska\",\"code\":\"CZK\",\"mid\":0.1629},{\"currency\":\"korona duńska\",\"code\":\"DKK\",\"mid\":0.5633},{\"currency\":\"korona islandzka\",\"code\":\"ISK\",\"mid\":0.033374},{\"currency\":\"korona norweska\",\"code\":\"NOK\",\"mid\":0.4230},{\"currency\":\"korona szwedzka\",\"code\":\"SEK\",\"mid\":0.4221},{\"currency\":\"kuna (Chorwacja)\",\"code\":\"HRK\",\"mid\":0.5557},{\"currency\":\"lej rumuński\",\"code\":\"RON\",\"mid\":0.9040},{\"currency\":\"lew (Bułgaria)\",\"code\":\"BGN\",\"mid\":2.1441},{\"currency\":\"lira turecka\",\"code\":\"TRY\",\"mid\":0.9278},{\"currency\":\"nowy izraelski szekel\",\"code\":\"ILS\",\"mid\":1.0140},{\"currency\":\"peso chilijskie\",\"code\":\"CLP\",\"mid\":0.005701},{\"currency\":\"peso filipińskie\",\"code\":\"PHP\",\"mid\":0.0706},{\"currency\":\"peso meksykańskie\",\"code\":\"MXN\",\"mid\":0.1818},{\"currency\":\"rand (Republika Południowej Afryki)\",\"code\":\"ZAR\",\"mid\":0.2778},{\"currency\":\"real (Brazylia)\",\"code\":\"BRL\",\"mid\":1.0698},{\"currency\":\"ringgit (Malezja)\",\"code\":\"MYR\",\"mid\":0.8678},{\"currency\":\"rubel rosyjski\",\"code\":\"RUB\",\"mid\":0.0607},{\"currency\":\"rupia indonezyjska\",\"code\":\"IDR\",\"mid\":0.00026099},{\"currency\":\"rupia indyjska\",\"code\":\"INR\",\"mid\":0.055134},{\"currency\":\"won południowokoreański\",\"code\":\"KRW\",\"mid\":0.003286},{\"currency\":\"yuan renminbi (Chiny)\",\"code\":\"CNY\",\"mid\":0.5383},{\"currency\":\"SDR (MFW)\",\"code\":\"XDR\",\"mid\":5.0069}]}]");
        } catch (IOException e) {
            fail("Exception thrown, but exception was not expected.");
        }
    }

    @Test
    void deserializeMany() {
        try {
            Table.deserializeMany("[{\"table\":\"A\",\"no\":\"247/A/NBP/2017\",\"effectiveDate\":\"2017-12-21\",\"rates\":[{\"currency\":\"bat (Tajlandia)\",\"code\":\"THB\",\"mid\":0.1081},{\"currency\":\"dolar amerykański\",\"code\":\"USD\",\"mid\":3.5369},{\"currency\":\"dolar australijski\",\"code\":\"AUD\",\"mid\":2.7080},{\"currency\":\"dolar Hongkongu\",\"code\":\"HKD\",\"mid\":0.4520},{\"currency\":\"dolar kanadyjski\",\"code\":\"CAD\",\"mid\":2.7557},{\"currency\":\"dolar nowozelandzki\",\"code\":\"NZD\",\"mid\":2.4761},{\"currency\":\"dolar singapurski\",\"code\":\"SGD\",\"mid\":2.6291},{\"currency\":\"euro\",\"code\":\"EUR\",\"mid\":4.2018},{\"currency\":\"forint (Węgry)\",\"code\":\"HUF\",\"mid\":0.01343},{\"currency\":\"frank szwajcarski\",\"code\":\"CHF\",\"mid\":3.5832},{\"currency\":\"funt szterling\",\"code\":\"GBP\",\"mid\":4.7318},{\"currency\":\"hrywna (Ukraina)\",\"code\":\"UAH\",\"mid\":0.1268},{\"currency\":\"jen (Japonia)\",\"code\":\"JPY\",\"mid\":0.031165},{\"currency\":\"korona czeska\",\"code\":\"CZK\",\"mid\":0.1633},{\"currency\":\"korona duńska\",\"code\":\"DKK\",\"mid\":0.5644},{\"currency\":\"korona islandzka\",\"code\":\"ISK\",\"mid\":0.033601},{\"currency\":\"korona norweska\",\"code\":\"NOK\",\"mid\":0.4218},{\"currency\":\"korona szwedzka\",\"code\":\"SEK\",\"mid\":0.4210},{\"currency\":\"kuna (Chorwacja)\",\"code\":\"HRK\",\"mid\":0.5569},{\"currency\":\"lej rumuński\",\"code\":\"RON\",\"mid\":0.9070},{\"currency\":\"lew (Bułgaria)\",\"code\":\"BGN\",\"mid\":2.1484},{\"currency\":\"lira turecka\",\"code\":\"TRY\",\"mid\":0.9226},{\"currency\":\"nowy izraelski szekel\",\"code\":\"ILS\",\"mid\":1.0122},{\"currency\":\"peso chilijskie\",\"code\":\"CLP\",\"mid\":0.005702},{\"currency\":\"peso filipińskie\",\"code\":\"PHP\",\"mid\":0.0704},{\"currency\":\"peso meksykańskie\",\"code\":\"MXN\",\"mid\":0.1837},{\"currency\":\"rand (Republika Południowej Afryki)\",\"code\":\"ZAR\",\"mid\":0.2785},{\"currency\":\"real (Brazylia)\",\"code\":\"BRL\",\"mid\":1.0724},{\"currency\":\"ringgit (Malezja)\",\"code\":\"MYR\",\"mid\":0.8673},{\"currency\":\"rubel rosyjski\",\"code\":\"RUB\",\"mid\":0.0604},{\"currency\":\"rupia indonezyjska\",\"code\":\"IDR\",\"mid\":0.00026087},{\"currency\":\"rupia indyjska\",\"code\":\"INR\",\"mid\":0.05525},{\"currency\":\"won południowokoreański\",\"code\":\"KRW\",\"mid\":0.00327},{\"currency\":\"yuan renminbi (Chiny)\",\"code\":\"CNY\",\"mid\":0.5370},{\"currency\":\"SDR (MFW)\",\"code\":\"XDR\",\"mid\":5.0200}]},{\"table\":\"A\",\"no\":\"248/A/NBP/2017\",\"effectiveDate\":\"2017-12-22\",\"rates\":[{\"currency\":\"bat (Tajlandia)\",\"code\":\"THB\",\"mid\":0.1081},{\"currency\":\"dolar amerykański\",\"code\":\"USD\",\"mid\":3.5393},{\"currency\":\"dolar australijski\",\"code\":\"AUD\",\"mid\":2.7295},{\"currency\":\"dolar Hongkongu\",\"code\":\"HKD\",\"mid\":0.4526},{\"currency\":\"dolar kanadyjski\",\"code\":\"CAD\",\"mid\":2.7828},{\"currency\":\"dolar nowozelandzki\",\"code\":\"NZD\",\"mid\":2.4826},{\"currency\":\"dolar singapurski\",\"code\":\"SGD\",\"mid\":2.6320},{\"currency\":\"euro\",\"code\":\"EUR\",\"mid\":4.1935},{\"currency\":\"forint (Węgry)\",\"code\":\"HUF\",\"mid\":0.013446},{\"currency\":\"frank szwajcarski\",\"code\":\"CHF\",\"mid\":3.5764},{\"currency\":\"funt szterling\",\"code\":\"GBP\",\"mid\":4.7387},{\"currency\":\"hrywna (Ukraina)\",\"code\":\"UAH\",\"mid\":0.1267},{\"currency\":\"jen (Japonia)\",\"code\":\"JPY\",\"mid\":0.031221},{\"currency\":\"korona czeska\",\"code\":\"CZK\",\"mid\":0.1629},{\"currency\":\"korona duńska\",\"code\":\"DKK\",\"mid\":0.5633},{\"currency\":\"korona islandzka\",\"code\":\"ISK\",\"mid\":0.033374},{\"currency\":\"korona norweska\",\"code\":\"NOK\",\"mid\":0.4230},{\"currency\":\"korona szwedzka\",\"code\":\"SEK\",\"mid\":0.4221},{\"currency\":\"kuna (Chorwacja)\",\"code\":\"HRK\",\"mid\":0.5557},{\"currency\":\"lej rumuński\",\"code\":\"RON\",\"mid\":0.9040},{\"currency\":\"lew (Bułgaria)\",\"code\":\"BGN\",\"mid\":2.1441},{\"currency\":\"lira turecka\",\"code\":\"TRY\",\"mid\":0.9278},{\"currency\":\"nowy izraelski szekel\",\"code\":\"ILS\",\"mid\":1.0140},{\"currency\":\"peso chilijskie\",\"code\":\"CLP\",\"mid\":0.005701},{\"currency\":\"peso filipińskie\",\"code\":\"PHP\",\"mid\":0.0706},{\"currency\":\"peso meksykańskie\",\"code\":\"MXN\",\"mid\":0.1818},{\"currency\":\"rand (Republika Południowej Afryki)\",\"code\":\"ZAR\",\"mid\":0.2778},{\"currency\":\"real (Brazylia)\",\"code\":\"BRL\",\"mid\":1.0698},{\"currency\":\"ringgit (Malezja)\",\"code\":\"MYR\",\"mid\":0.8678},{\"currency\":\"rubel rosyjski\",\"code\":\"RUB\",\"mid\":0.0607},{\"currency\":\"rupia indonezyjska\",\"code\":\"IDR\",\"mid\":0.00026099},{\"currency\":\"rupia indyjska\",\"code\":\"INR\",\"mid\":0.055134},{\"currency\":\"won południowokoreański\",\"code\":\"KRW\",\"mid\":0.003286},{\"currency\":\"yuan renminbi (Chiny)\",\"code\":\"CNY\",\"mid\":0.5383},{\"currency\":\"SDR (MFW)\",\"code\":\"XDR\",\"mid\":5.0069}]}]");
        } catch (IOException e) {
            fail("Exception thrown, but exception was not expected.");
        }
    }
}